<div class="row">
  <div class="col-sm-12">
    <div class="card">
      <div class="card-header b-b-primary d-flex justify-content-between align-items-center">
        <h5>{{ 'Location preview' | translate }}</h5>
        <button class="btn btn-primary px-3 py-2" (click)="addOrEditLocation()" title="Dodaj lokaciju">
          <i class="fa fa-plus"></i></button>
      </div>
      <div class="card-body custom-datatable">
        <ngx-datatable class="bootstrap" [rows]="(locations$ | async) || []"
          [loadingIndicator]="isLoadingMainTable | async" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50"
          [rowHeight]="'auto'" [limit]="10" [messages]="{
              emptyMessage: currentLang == 'hr' ? 'Nema rezultata' : 'No entries',
              totalMessage: currentLang == 'hr' ? 'ukupno' : 'total'}">
          <ng-container *ngFor="let column of mainTableColumns; let i = index;">
            <ngx-datatable-column *ngIf='column.prop === "actions"' [sortable]="column.sortable" name="{{column.name}}"
              [width]="column.width">
              <ng-template let-value="value" let-row="row" ngx-datatable-cell-template>
                <span class="d-flex justify-content-between">
                  <button class='btn btn-outline-warning px-2 py-1' (click)="addOrEditLocation(row)" title='Uredi'>
                    <i class="fa fa-pencil"></i>
                  </button>
                  <button class='btn btn-outline-danger px-2 py-1' (click)="deleteLocation(row)" title='ObriÅ¡i'>
                    <i class="fa fa-trash"></i>
                  </button>
                </span>
              </ng-template>
            </ngx-datatable-column>
            <ngx-datatable-column *ngIf='column.prop !== "actions"' [sortable]="column.sortable" name="{{column.name}}"
              prop="{{column.prop}}" [width]="column.width">
            </ngx-datatable-column>
          </ng-container>
        </ngx-datatable>
      </div>
    </div>
  </div>
</div>
